<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Race to the White House: STAT 201 Review</title>
    <style>
        :root {
            --usa-blue: #002868;
            --usa-red: #bf0a30;
            --bg: #f0f2f5;
            --state-neutral: #cbd5e0;
            --state-won: #3182ce;
        }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        header { text-align: center; border-bottom: 4px solid var(--usa-blue); margin-bottom: 20px; padding-bottom: 10px; }
        
        #scoreboard { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: #e2e8f0; padding: 15px; border-radius: 10px; }
        .ev-counter { font-size: 2rem; font-weight: bold; color: var(--usa-blue); }
        
        #map-container { display: grid; grid-template-columns: repeat(10, 1fr); gap: 6px; margin-bottom: 30px; }
        .state-box { aspect-ratio: 1; background: var(--state-neutral); display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; color: white; border-radius: 4px; transition: 0.4s; }
        .state-box.won { background: var(--state-won); transform: scale(1.1); box-shadow: 0 0 10px rgba(49, 130, 206, 0.5); }

        #quiz-section { border: 2px solid var(--usa-blue); padding: 25px; border-radius: 12px; min-height: 250px; }
        .q-text { font-size: 1.25rem; font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        .btn-opt { display: block; width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #edf2f7; border-radius: 8px; background: white; text-align: left; cursor: pointer; font-size: 1rem; transition: 0.2s; }
        .btn-opt:hover { border-color: var(--usa-blue); background: #f7fafc; }
        
        #feedback { margin-top: 15px; font-weight: bold; text-align: center; font-size: 1.1rem; height: 1.5rem; }
        .hidden { display: none; }
        .start-screen { text-align: center; padding: 50px; }
        .start-btn { padding: 15px 40px; font-size: 1.5rem; background: var(--usa-blue); color: white; border: none; border-radius: 50px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>STAT 201: Race to the White House</h1>
        <p>Master the exam to win 270 Electoral Votes</p>
    </header>

    <div id="start-screen" class="start-screen">
        <p>Win 50 states by answering 50 unique Stats questions correctly.</p>
        <button class="start-btn" onclick="startGame()">BEGIN CAMPAIGN</button>
    </div>

    <div id="game-ui" class="hidden">
        <div id="scoreboard">
            <div>
                <strong>Next State:</strong> <span id="st-name">...</span><br>
                <strong>Value:</strong> <span id="st-ev">0</span> Electoral Votes
            </div>
            <div style="text-align: center">
                <div class="ev-counter"><span id="total-ev">0</span> / 270</div>
                <span>ELECTORAL VOTES</span>
            </div>
        </div>

        <div id="map-container"></div>

        <div id="quiz-section">
            <div id="q-count" style="color: #718096; font-size: 0.9rem; margin-bottom: 5px;">Question 1 of 50</div>
            <div id="q-text" class="q-text">Loading question...</div>
            <div id="options"></div>
            <div id="feedback"></div>
        </div>
    </div>

    <div id="win-screen" class="hidden" style="text-align: center; padding: 40px;">
        <h1 style="color: var(--usa-blue); font-size: 3rem;">CONGRATULATIONS!</h1>
        <p style="font-size: 1.5rem;">You've reached 270+ Electoral Votes and are ready for the exam!</p>
        <button class="start-btn" onclick="location.reload()">REPLAY REVIEW</button>
    </div>
</div>

<script>
    const states = [
        {n: "Alabama", v: 9, c: "AL"}, {n: "Alaska", v: 3, c: "AK"}, {n: "Arizona", v: 11, c: "AZ"}, {n: "Arkansas", v: 6, c: "AR"}, {n: "California", v: 54, c: "CA"}, {n: "Colorado", v: 10, c: "CO"}, {n: "Connecticut", v: 7, c: "CT"}, {n: "Delaware", v: 3, c: "DE"}, {n: "Florida", v: 30, c: "FL"}, {n: "Georgia", v: 16, c: "GA"}, {n: "Hawaii", v: 4, c: "HI"}, {n: "Idaho", v: 4, c: "ID"}, {n: "Illinois", v: 19, c: "IL"}, {n: "Indiana", v: 11, c: "IN"}, {n: "Iowa", v: 6, c: "IA"}, {n: "Kansas", v: 6, c: "KS"}, {n: "Kentucky", v: 8, c: "KY"}, {n: "Louisiana", v: 8, c: "LA"}, {n: "Maine", v: 4, c: "ME"}, {n: "Maryland", v: 10, c: "MD"}, {n: "Massachusetts", v: 11, c: "MA"}, {n: "Michigan", v: 15, c: "MI"}, {n: "Minnesota", v: 10, c: "MN"}, {n: "Mississippi", v: 6, c: "MS"}, {n: "Missouri", v: 10, c: "MO"}, {n: "Montana", v: 4, c: "MT"}, {n: "Nebraska", v: 5, c: "NE"}, {n: "Nevada", v: 6, c: "NV"}, {n: "New Hampshire", v: 4, c: "NH"}, {n: "New Jersey", v: 14, c: "NJ"}, {n: "New Mexico", v: 5, c: "NM"}, {n: "New York", v: 28, c: "NY"}, {n: "North Carolina", v: 16, c: "NC"}, {n: "North Dakota", v: 3, c: "ND"}, {n: "Ohio", v: 17, c: "OH"}, {n: "Oklahoma", v: 7, c: "OK"}, {n: "Oregon", v: 8, c: "OR"}, {n: "Pennsylvania", v: 19, c: "PA"}, {n: "Rhode Island", v: 4, c: "RI"}, {n: "South Carolina", v: 9, c: "SC"}, {n: "South Dakota", v: 3, c: "SD"}, {n: "Tennessee", v: 11, c: "TN"}, {n: "Texas", v: 40, c: "TX"}, {n: "Utah", v: 6, c: "UT"}, {n: "Vermont", v: 3, c: "VT"}, {n: "Virginia", v: 13, c: "VA"}, {n: "Washington", v: 12, c: "WA"}, {n: "West Virginia", v: 4, c: "WV"}, {n: "Wisconsin", v: 10, c: "WI"}, {n: "Wyoming", v: 3, c: "WY"}
    ];

    const questions = [
        // Topic: Variable Types (1-8)
        {q: "Which variable is 'Type of Payment' (Visa, Cash)?", a: ["Quantitative", "Categorical", "Identifier"], ci: 1},
        {q: "Which variable is 'Gas purchase in dollars'?", a: ["Quantitative", "Categorical", "Identifier"], ci: 0},
        {q: "What type of variable is a 'Transaction Number'?", a: ["Quantitative", "Categorical", "Identifier"], ci: 2},
        {q: "Which of these is a Quantitative variable?", a: ["Type of Gas", "Day of Week", "Number of Gallons"], ci: 2},
        {q: "Is 'Inside food sale (Yes/No)' Categorical or Quantitative?", a: ["Categorical", "Quantitative"], ci: 0},
        {q: "Student ID numbers are which type of variable?", a: ["Quantitative", "Categorical", "Identifier"], ci: 2},
        {q: "A person's weight in pounds is what type of variable?", a: ["Quantitative", "Categorical", "Identifier"], ci: 0},
        {q: "The color of a car is which variable type?", a: ["Quantitative", "Categorical", "Identifier"], ci: 1},
        
        // Topic: Center & Spread (9-18)
        {q: "If a data set is skewed right, usually:", a: ["Mean < Median", "Mean > Median", "Mean = Median"], ci: 1},
        {q: "The distance between the 75th and 25th percentile is the:", a: ["Range", "Standard Deviation", "IQR"], ci: 2},
        {q: "Which measure is NOT resistant to outliers?", a: ["Median", "Mean", "IQR"], ci: 1},
        {q: "What is the median of this sample: 10, 20, 30, 40, 50?", a: ["20", "30", "40", "25"], ci: 1},
        {q: "The 'Five Number Summary' includes Min, Q1, Median, Q3, and...", a: ["Mean", "Standard Deviation", "Max"], ci: 2},
        {q: "If IQR is 10, and Q1 is 50, what is Q3?", a: ["40", "60", "70", "100"], ci: 1},
        {q: "What measure of spread should be used for skewed data?", a: ["Standard Deviation", "IQR", "Range"], ci: 1},
        {q: "Standard Deviation should be used to describe center when data is...", a: ["Skewed", "Normal/Symmetric", "Bimodal"], ci: 1},
        {q: "In a symmetric distribution, where are the mean and median?", a: ["Far apart", "Approximately equal", "Mean is higher"], ci: 1},
        {q: "A large outlier at the high end of a dataset will inflate the:", a: ["Median", "Mode", "Mean"], ci: 2},

        // Topic: Z-Scores & Normal Model (19-30)
        {q: "Calculate Betty's Z-score: Hold time 7.5, Mean 4.9, SD 1.4.", a: ["1.86", "2.34", "1.50", "0.85"], ci: 0},
        {q: "A Z-score of -1.5 indicates a value is:", a: ["1.5 SD above mean", "1.5 SD below mean", "An outlier"], ci: 1},
        {q: "Using the 68-95-99.7 rule, what % is within 1 SD of the mean?", a: ["50%", "68%", "95%", "99.7%"], ci: 1},
        {q: "What % of data is between Z = -2 and Z = +2?", a: ["68%", "90%", "95%", "99.7%"], ci: 2},
        {q: "What is the Z-score of the Mean itself?", a: ["1.0", "0.0", "-1.0"], ci: 1},
        {q: "A Z-score of 4.0 is generally considered:", a: ["Normal", "Average", "An Outlier"], ci: 2},
        {q: "The area under the entire normal curve is equal to:", a: ["0.5", "1.0", "100"], ci: 1},
        {q: "Approximately what % of data is BELOW the mean in a Normal model?", a: ["25%", "50%", "75%"], ci: 1},
        {q: "If a battery lasts 2 years, Mean is 2.5, SD is 0.32, what is Z?", a: ["-1.56", "1.56", "-0.50"], ci: 0},
        {q: "The 75th percentile of reaction time (Mean 150, SD 10) is approx:", a: ["143", "150", "156.7", "160"], ci: 2},
        {q: "What is the Z-score for a value that is 3 SDs below the mean?", a: ["3", "-3", "0"], ci: 1},
        {q: "Standardizing data into Z-scores changes the shape of the distribution.", a: ["True", "False"], ci: 1},

        // Topic: Correlation & Scatterplots (31-40)
        {q: "Correlation (r) must be between which two values?", a: ["0 and 1", "-1 and 1", "-10 and 10"], ci: 1},
        {q: "If r = -0.98, the relationship is:", a: ["Strong Positive", "Weak Negative", "Strong Negative"], ci: 2},
        {q: "Does a correlation of 0.95 prove that X causes Y?", a: ["Yes", "No"], ci: 1},
        {q: "Correlation is only used to describe what type of relationship?", a: ["Curved", "Linear", "Categorical"], ci: 1},
        {q: "Adding an outlier that is far from the linear pattern will:", a: ["Increase r", "Decrease r", "Not affect r"], ci: 1},
        {q: "Which is a condition for Correlation?", a: ["Must be Categorical", "Must be Linear", "No Outliers Required"], ci: 1},
        {q: "If r = 0, there is no relationship at all.", a: ["True", "False (Only no linear)"], ci: 1},
        {q: "Switching the X and Y axes changes the correlation coefficient.", a: ["True", "False"], ci: 1},
        {q: "Which variable is 'Explanatory' in a scatterplot?", a: ["X-axis", "Y-axis"], ci: 0},
        {q: "A 'lurking variable' can make two variables appear related when they aren't.", a: ["True", "False"], ci: 0},

        // Topic: Displays & Graphs (41-50)
        {q: "A Mosaic Plot is used to show the relationship between:", a: ["2 Quantitative", "2 Categorical", "1 of each"], ci: 1},
        {q: "Side-by-side boxplots are best for:", a: ["2 Categorical", "Comparing 1 Quant across Categories", "2 Quant"], ci: 1},
        {q: "In a boxplot, the line inside the box represents the:", a: ["Mean", "Median", "Mode"], ci: 1},
        {q: "A distribution with two clear peaks is called:", a: ["Unimodal", "Bimodal", "Symmetric"], ci: 1},
        {q: "Bar charts are used to graphically display which type of variable?", a: ["Quantitative", "Categorical", "Identifier"], ci: 1},
        {q: "A Histogram with a long left tail is called:", a: ["Skewed Right", "Skewed Left", "Uniform"], ci: 1},
        {q: "In a Mosaic Plot, if the bars align perfectly, there is:", a: ["Strong Relationship", "No Relationship"], ci: 1},
        {q: "The 'Whiskers' of a boxplot usually extend to the:", a: ["Mean", "Max/Min (excluding outliers)", "SD"], ci: 1},
        {q: "Which plot is used to check for Linearity?", a: ["Histogram", "Scatterplot", "Boxplot"], ci: 1},
        {q: "If Z-scores are calculated for skewed data, the Z-scores are Normal.", a: ["True", "False"], ci: 1}
    ];

    let currentIdx = 0;
    let totalEV = 0;

    function startGame() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-ui').classList.remove('hidden');
        initMap();
        loadQ();
    }

    function initMap() {
        const grid = document.getElementById('map-container');
        states.forEach((s, i) => {
            const div = document.createElement('div');
            div.className = 'state-box';
            div.id = `s-${i}`;
            div.innerText = s.c;
            grid.appendChild(div);
        });
    }

    function loadQ() {
        if (totalEV >= 270) {
            document.getElementById('game-ui').classList.add('hidden');
            document.getElementById('win-screen').classList.remove('hidden');
            return;
        }
        if (currentIdx >= 50) {
            alert("End of questions! You finished with " + totalEV + " votes.");
            return;
        }

        const s = states[currentIdx];
        const q = questions[currentIdx];

        document.getElementById('q-count').innerText = `Question ${currentIdx + 1} of 50`;
        document.getElementById('st-name').innerText = s.n;
        document.getElementById('st-ev').innerText = s.v;
        document.getElementById('q-text').innerText = `FOR ${s.n.toUpperCase()}: ${q.q}`;
        
        const optContainer = document.getElementById('options');
        optContainer.innerHTML = '';
        q.a.forEach((opt, i) => {
            const b = document.createElement('button');
            b.className = 'btn-opt';
            b.innerText = opt;
            b.onclick = () => checkAns(i);
            optContainer.appendChild(b);
        });
    }

    function checkAns(choice) {
        const q = questions[currentIdx];
        const feed = document.getElementById('feedback');
        
        if (choice === q.ci) {
            feed.innerText = "CORRECT! State Won!";
            feed.style.color = "green";
            totalEV += states[currentIdx].v;
            document.getElementById(`s-${currentIdx}`).classList.add('won');
            document.getElementById('total-ev').innerText = totalEV;
        } else {
            feed.innerText = "WRONG! The state goes to the opponent.";
            feed.style.color = "red";
            document.getElementById(`s-${currentIdx}`).style.background = "#bf0a30"; // Red for lost
        }

        currentIdx++;
        setTimeout(() => {
            feed.innerText = "";
            loadQ();
        }, 1200);
    }
</script>

</body>
</html>
