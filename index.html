<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Race to the White House: STAT 201 Edition</title>
    <style>
        :root {
            --dem-blue: #0047ab;
            --rep-red: #d3d3d3; /* Neutral until won */
            --win-blue: #2a65b1;
            --white: #ffffff;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f4f4; margin: 0; display: flex; flex-direction: column; align-items: center; }
        header { background: var(--dem-blue); color: white; width: 100%; text-align: center; padding: 1rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        #game-container { max-width: 900px; width: 95%; margin: 20px auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        /* Stats Dashboard */
        #dashboard { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 10px; border-bottom: 3px solid #eee; }
        .score-box { text-align: center; }
        .votes { font-size: 2.5rem; font-weight: bold; color: var(--dem-blue); }
        
        /* The Map */
        #map-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 5px; margin-bottom: 30px; background: #eee; padding: 10px; border-radius: 5px; }
        .state-chip { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: bold; background: #ccc; border-radius: 3px; cursor: default; color: white; transition: 0.3s; }
        .state-chip.won { background: var(--win-blue); transform: scale(1.05); }

        /* Quiz Section */
        #quiz-area { border: 2px solid #0047ab; padding: 20px; border-radius: 10px; position: relative; }
        .question { font-size: 1.2rem; margin-bottom: 15px; font-weight: 600; }
        .option { display: block; width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; text-align: left; background: white; transition: 0.2s; }
        .option:hover { background: #f0f7ff; border-color: var(--dem-blue); }
        
        #feedback { font-weight: bold; margin-top: 10px; height: 20px; }
        .hidden { display: none; }
        #win-screen { text-align: center; padding: 50px; }
    </style>
</head>
<body>

<header>
    <h1>RACE TO THE WHITE HOUSE</h1>
    <p>STAT 201 Final Review</p>
</header>

<div id="game-container">
    <div id="dashboard">
        <div class="score-box">
            <div>Current State: <span id="target-state">Alabama</span></div>
            <div>Value: <span id="state-votes">9</span> EV</div>
        </div>
        <div class="score-box">
            <div class="votes"><span id="total-ev">0</span> / 270</div>
            <div>ELECTORAL VOTES</div>
        </div>
    </div>

    <div id="map-grid">
        </div>

    <div id="quiz-area">
        <div id="question-text" class="question">Loading first question...</div>
        <div id="options-container"></div>
        <div id="feedback"></div>
    </div>

    <div id="win-screen" class="hidden">
        <h1 style="color: var(--dem-blue)">CONGRATULATIONS, MR. PRESIDENT!</h1>
        <p>You have reached 270 Electoral Votes and mastered your Stats Exam.</p>
        <button onclick="location.reload()">Play Again</button>
    </div>
</div>

<script>
    const states = [
        {name: "Alabama", ev: 9, code: "AL"}, {name: "Alaska", ev: 3, code: "AK"}, {name: "Arizona", ev: 11, code: "AZ"},
        {name: "Arkansas", ev: 6, code: "AR"}, {name: "California", ev: 54, code: "CA"}, {name: "Colorado", ev: 10, code: "CO"},
        {name: "Connecticut", ev: 7, code: "CT"}, {name: "Delaware", ev: 3, code: "DE"}, {name: "Florida", ev: 30, code: "FL"},
        {name: "Georgia", ev: 16, code: "GA"}, {name: "Hawaii", ev: 4, code: "HI"}, {name: "Idaho", ev: 4, code: "ID"},
        {name: "Illinois", ev: 19, code: "IL"}, {name: "Indiana", ev: 11, code: "IN"}, {name: "Iowa", ev: 6, code: "IA"},
        {name: "Kansas", ev: 6, code: "KS"}, {name: "Kentucky", ev: 8, code: "KY"}, {name: "Louisiana", ev: 8, code: "LA"},
        {name: "Maine", ev: 4, code: "ME"}, {name: "Maryland", ev: 10, code: "MD"}, {name: "Massachusetts", ev: 11, code: "MA"},
        {name: "Michigan", ev: 15, code: "MI"}, {name: "Minnesota", ev: 10, code: "MN"}, {name: "Mississippi", ev: 6, code: "MS"},
        {name: "Missouri", ev: 10, code: "MO"}, {name: "Montana", ev: 4, code: "MT"}, {name: "Nebraska", ev: 5, code: "NE"},
        {name: "Nevada", ev: 6, code: "NV"}, {name: "New Hampshire", ev: 4, code: "NH"}, {name: "New Jersey", ev: 14, code: "NJ"},
        {name: "New Mexico", ev: 5, code: "NM"}, {name: "New York", ev: 28, code: "NY"}, {name: "North Carolina", ev: 16, code: "NC"},
        {name: "North Dakota", ev: 3, code: "ND"}, {name: "Ohio", ev: 17, code: "OH"}, {name: "Oklahoma", ev: 7, code: "OK"},
        {name: "Oregon", ev: 8, code: "OR"}, {name: "Pennsylvania", ev: 19, code: "PA"}, {name: "Rhode Island", ev: 4, code: "RI"},
        {name: "South Carolina", ev: 9, code: "SC"}, {name: "South Dakota", ev: 3, code: "SD"}, {name: "Tennessee", ev: 11, code: "TN"},
        {name: "Texas", ev: 40, code: "TX"}, {name: "Utah", ev: 6, code: "UT"}, {name: "Vermont", ev: 3, code: "VT"},
        {name: "Virginia", ev: 13, code: "VA"}, {name: "Washington", ev: 12, code: "WA"}, {name: "West Virginia", ev: 4, code: "WV"},
        {name: "Wisconsin", ev: 10, code: "WI"}, {name: "Wyoming", ev: 3, code: "WY"}
    ];

    const questions = [
        { q: "What is a Z-score of 0 indicating?", a: ["Exactly at the mean", "One SD above mean", "An outlier", "Impossible"], correct: 0 },
        { q: "Which variable is 'Type of Payment' (Visa, Cash)?", a: ["Quantitative", "Categorical", "Identifier", "Continuous"], correct: 1 },
        { q: "The middle 50% of data is found within the:", a: ["Standard Deviation", "Range", "IQR", "Z-score"], correct: 2 },
        { q: "A distribution with a long tail to the right is:", a: ["Left-skewed", "Symmetric", "Normal", "Right-skewed"], correct: 3 },
        { q: "Which value is resistant to outliers?", a: ["Mean", "Median", "Range", "Standard Deviation"], correct: 1 },
        { q: "If Z = 2.0, the value is how many SDs from the mean?", a: ["1", "2", "0.5", "4"], correct: 1 },
        { q: "Correlation (r) must be between which values?", a: ["0 and 1", "-1 and 1", "0 and 100", "-Infinity and Infinity"], correct: 1 },
        { q: "What does r = 0 indicate?", a: ["Strong linear relationship", "No relationship", "No linear relationship", "Perfect balance"], correct: 2 },
        { q: "The 68-95-99.7 rule applies to what model?", a: ["Skewed", "Normal", "Bimodal", "Uniform"], correct: 1 },
        { q: "IQR is calculated as:", a: ["Q3 - Q1", "Mean - Median", "Max - Min", "Q2 - Q1"], correct: 0 },
        { q: "A correlation of -0.98 is considered:", a: ["Weak negative", "Strong positive", "Strong negative", "Non-existent"], correct: 2 },
        { q: "Does correlation imply causation?", a: ["Always", "Never", "Usually", "Only if r > 0.9"], correct: 1 },
        { q: "What is 'Transaction Number' classified as?", a: ["Quantitative", "Categorical", "Identifier", "Ordinal"], correct: 2 },
        { q: "A Z-score of -3.0 is usually considered:", a: ["Average", "Normal", "An Outlier", "Impossible"], correct: 2 },
        { q: "In a right-skewed distribution, the mean is usually:", a: ["Lower than median", "Equal to median", "Greater than median", "Zero"], correct: 2 },
        { q: "The 'Number of Gallons' is which variable type?", a: ["Categorical", "Quantitative", "Identifier", "Nominal"], correct: 1 },
        { q: "What is the 50th percentile?", a: ["The Mean", "The Median", "The Q3", "The SD"], correct: 1 },
        { q: "A Mosaic Plot is used for which variables?", a: ["Two Quantitative", "Two Categorical", "One of each", "Identifier only"], correct: 1 },
        { q: "A scatterplot showing a 'cloud' of points has an r near:", a: ["1.0", "-1.0", "0.0", "0.5"], correct: 2 },
        { q: "Standard deviation measures:", a: ["Center", "Spread", "Shape", "Bias"], correct: 1 },
        { q: "Removing an outlier that falls far from the regression line will likely:", a: ["Decrease r", "Not change r", "Increase r", "Change the mean only"], correct: 2 },
        { q: "Which of these can be negative?", a: ["Standard Deviation", "IQR", "Z-score", "Range"], correct: 2 },
        { q: "The area under the entire Normal Curve is:", a: ["0.5", "1.0", "100", "Varies"], correct: 1 },
        { q: "A Z-score tells us the number of ____ a value is from the mean.", a: ["Integers", "Standard Deviations", "Percentiles", "Medians"], correct: 1 },
        { q: "Which plot is best for comparing distributions across groups?", a: ["Scatterplot", "Side-by-side Boxplots", "Pie Chart", "Time series"], correct: 1 },
        { q: "What is the Q1 percentile?", a: ["25th", "50th", "75th", "10th"], correct: 0 },
        { q: "A value with Z = 1.96 in a normal model has how much area to its left?", a: ["50%", "95%", "97.5%", "2.5%"], correct: 2 },
        { q: "Correlation is sensitive to:", a: ["Median", "Outliers", "The Mean", "Variable units"], correct: 1 },
        { q: "If you add 10 to every value in a set, the SD:", a: ["Increases by 10", "Stays the same", "Doubles", "Decreases"], correct: 1 },
        { q: "Categorical variables are also called:", a: ["Numerical", "Qualitative", "Quantitative", "Identifier"], correct: 1 },
        { q: "The 'Range' is:", a: ["Max + Min", "Max - Min", "Q3 - Q1", "Average"], correct: 1 },
        { q: "What is the Z-score for the mean?", a: ["1", "0", "-1", "Depends on data"], correct: 1 },
        { q: "Boxplots show which 'Summary'?", a: ["Three-number", "Four-number", "Five-number", "Mean-SD"], correct: 2 },
        { q: "If r = 1, the points in a scatterplot:", a: ["Are in a circle", "Are in a perfect line", "Are random", "Are horizontal"], correct: 1 },
        { q: "The IQR contains what percentage of data?", a: ["25%", "50%", "75%", "95%"], correct: 1 },
        { q: "Which is NOT a condition for Correlation?", a: ["Quantitative variables", "Linearity", "No Outliers", "Normality"], correct: 3 },
        { q: "A Z-score of 1.0 means the value is ____ the mean.", a: ["Below", "Above", "At", "Twice"], correct: 1 },
        { q: "Which describes a 'Bimodal' distribution?", a: ["One peak", "Two peaks", "No peaks", "Flat"], correct: 1 },
        { q: "What is 'Day of Week' (Mon, Tue)?", a: ["Quantitative", "Categorical", "Identifier", "Continuous"], correct: 1 },
        { q: "If data is converted to Z-scores, the new mean is:", a: ["1", "0", "Original mean", "100"], correct: 1 },
        { q: "In a Normal model, what % is within 2 SD of the mean?", a: ["68%", "95%", "99.7%", "50%"], correct: 1 },
        { q: "Which is most affected by a single extreme outlier?", a: ["Median", "Mean", "IQR", "Mode"], correct: 1 },
        { q: "A vertical line in a Boxplot represents:", a: ["The Mean", "The Median", "The Q1", "The Range"], correct: 1 },
        { q: "What happens to r if you switch x and y axes?", a: ["Becomes negative", "Changes to 0", "Stays the same", "Doubles"], correct: 2 },
        { q: "Quantitative variables must have:", a: ["Units", "Names", "Categories", "Z-scores"], correct: 0 },
        { q: "The sum of probabilities in a distribution must be:", a: ["0", "1", "0.5", "100"], correct: 1 },
        { q: "A 'Lurking Variable' can:", a: ["Improve r", "Hide a relationship", "Create a false correlation", "All of the above"], correct: 3 },
        { q: "If Z = -1.0, what % of data is below you (approx)?", a: ["16%", "32%", "50%", "84%"], correct: 0 },
        { q: "A 'Skewed Left' tail points toward:", a: ["Smaller values", "Larger values", "The Mean", "The Center"], correct: 0 },
        { q: "To 'Standardize' a value, you subtract the mean and divide by:", a: ["Median", "IQR", "Standard Deviation", "Sample Size"], correct: 2 }
    ];

    let currentStateIndex = 0;
    let totalEV = 0;

    function initMap() {
        const grid = document.getElementById('map-grid');
        states.forEach((state, index) => {
            const div = document.createElement('div');
            div.className = 'state-chip';
            div.id = `state-${index}`;
            div.innerText = state.code;
            div.title = `${state.name}: ${state.ev} Votes`;
            grid.appendChild(div);
        });
    }

    function loadQuestion() {
        if (totalEV >= 270) {
            document.getElementById('quiz-area').classList.add('hidden');
            document.getElementById('win-screen').classList.remove('hidden');
            return;
        }

        const state = states[currentStateIndex];
        const question = questions[currentStateIndex];

        document.getElementById('target-state').innerText = state.name;
        document.getElementById('state-votes').innerText = state.ev;
        document.getElementById('question-text').innerText = `FOR ${state.name.toUpperCase()}: ${question.q}`;
        
        const optionsContainer = document.getElementById('options-container');
        optionsContainer.innerHTML = '';
        
        question.a.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.className = 'option';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(i);
            optionsContainer.appendChild(btn);
        });
    }

    function checkAnswer(selected) {
        const question = questions[currentStateIndex];
        const feedback = document.getElementById('feedback');
        
        if (selected === question.correct) {
            feedback.style.color = "green";
            feedback.innerText = "CORRECT! You won the state!";
            totalEV += states[currentStateIndex].ev;
            document.getElementById(`state-${currentStateIndex}`).classList.add('won');
            document.getElementById('total-ev').innerText = totalEV;
        } else {
            feedback.style.color = "red";
            feedback.innerText = "WRONG! The state goes to your opponent.";
        }

        currentStateIndex++;
        setTimeout(() => {
            feedback.innerText = "";
            loadQuestion();
        }, 1500);
    }

    initMap();
    loadQuestion();
</script>

</body>
</html>
